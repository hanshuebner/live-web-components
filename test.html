<html>
<head>
    <title>Live Components</title>
    <link type="text/css" href="css/reset.css" rel="stylesheet" />
    <script type="application/javascript" src="js/utils.js"></script>
    <script type="application/javascript" src="js/optionable.js"></script>
    <script type="application/javascript" src="js/control.js"></script>
    <script type="application/javascript" src="js/spinner.js"></script>
    <script type="application/javascript" src="js/toggler.js"></script>
    <script type="application/javascript">
        function printLine(text) {
            var pElement = document.getElementById("output");
            pElement.insertBefore(document.createElement("br"), pElement.firstChild);
            pElement.insertBefore(document.createTextNode(text), pElement.firstChild);
        }

        function initialize() {
            new Spinner('spinner_one', {
                title: "Small with long title",
                size: 40,
                onchange: function(internalValue, externalValue, factor) {
                    printLine("Spinner 1: internal = " + internalValue + " / external = " + externalValue + " / factor = " + factor);
                }
            });
            new Spinner('spinner_two', {
                mouseScale: 2,
                keyScale: 0.5,
                onchange: function(internalValue, externalValue, factor) {
                    printLine("Spinner 2: internal = " + internalValue + " / external = " + externalValue + " / factor = " + factor);
                }
            });
            new Spinner('spinner_three', {
                title: "Long title",
                factor: 0.8,
                radiusDifference: 5,
                externalMapping: {
                    fromFactor: function(factor) {
                        return Math.round(factor * 400.0 - 200.0);
                    },
                    toFactor: function(value) {
                        return (value + 200.0) / 400.0;
                    }
                },
                onchange: function(internalValue, externalValue, factor) {
                    printLine("Spinner 3: internal = " + internalValue + " / external = " + externalValue + " / factor = " + factor);
                }
            });

            new Toggler("toggler_one", {
                text: "Large",
                onchange: function(on) {
                    printLine("Toggler 1: " + on)
                }
            });
            new Toggler("toggler_two", {
                width: 60,
                height: 24,
                borderWidth: 1,
                initialValue: true,
                text: "Small",
                onchange: function(on) {
                    printLine("Toggler 2: " + on)
                }
            });
        }
    </script>
</head>
<body onload="initialize();">
    <input />
    <button id="spinner_one" style="display: inline;"></button>
    <button id="spinner_two" style="display: inline;"></button>
    <button id="spinner_three" style="display: inline;"></button>
    <button id="toggler_one" style="display: inline;"></button>
    <button id="toggler_two" style="display: inline;"></button>
    <input />
    <p id="output"></p>
</body>
</html>
