<html>
<head>
    <title>Live Components</title>
    <link type="text/css" href="css/reset.css" rel="stylesheet" />
    <script type="application/javascript" src="js/utils.js"></script>
    <script type="application/javascript" src="js/control.js"></script>
    <script type="application/javascript" src="js/control_extensions.js"></script>
    <script type="application/javascript" src="js/spinner.js"></script>
    <script type="application/javascript" src="js/toggler.js"></script>
    <script type="application/javascript" src="js/selector.js"></script>
    <script type="application/javascript" src="js/slider.js"></script>
    <script type="application/javascript">
        function printLine(text) {
            var pElement = document.getElementById("output");
            pElement.insertBefore(document.createElement("br"), pElement.firstChild);
            pElement.insertBefore(document.createTextNode(text), pElement.firstChild);
        }

        function initialize() {
            new Spinner('spinner_one', {
                title: "Small with long title",
                size: 40,
                stateCount: 5,
                onchange: function(internalValue, externalValue, state) {
                    printLine("Spinner 1: internal = " + internalValue + " / external = " + externalValue + " / state = " + state);
                }
            });
            new Spinner('spinner_two', {
                mouseScale: 2,
                keyStep: 2,
                onchange: function(internalValue, externalValue, state) {
                    printLine("Spinner 2: internal = " + internalValue + " / external = " + externalValue + " / state = " + state);
                }
            });
            new Spinner('spinner_three', {
                title: "Long title",
                state: 80,
                radiusDifference: 5,
                externalMapping: {
                    toDisplay: function(state) {
                        return Math.round(state / 100.0 * 400.0 - 200.0);
                    },
                    fromDisplay: function(display) {
                        return Math.round((parseInt(display) + 200.0) / 400.0 * 100.0);
                    }
                },
                onchange: function(internalValue, externalValue, state) {
                    printLine("Spinner 3: internal = " + internalValue + " / external = " + externalValue + " / state = " + state);
                }
            });

            new Toggler("toggler_one", {
                title: "Large",
                externalMapping: {
                    toDisplay: function(state) { return state ? "On" : "Off" }
                },
                internalMapping: {
                    toValue: function(state) { return state ? true : false },
                    fromValue: function(value) { return value ? 1 : 0 }
                },
                onchange: function(internalValue, externalValue, state) {
                    printLine("Toggler 1: internal = " + internalValue + " / external = " + externalValue + " / state = " + state);
                }
            });
            new Toggler("toggler_two", {
                state: 1,
                onchange: function(internalValue, externalValue, state) {
                    printLine("Toggler 2: internal = " + internalValue + " / external = " + externalValue + " / state = " + state);
                }
            });

            new Selector("selector_one", {
                title: "Select 1",
                items: [ "one", "two", "three" ],
                onchange: function(internalValue, externalValue, state) {
                    printLine("Selector 1: internal = " + internalValue + " / external = " + externalValue + " / state = " + state);
                }
            });
            new Selector("selector_two", {
                items: [ "one", "two", "three" ],
                onchange: function(internalValue, externalValue, state) {
                    printLine("Selector 2: internal = " + internalValue + " / external = " + externalValue + " / state = " + state);
                }
            });

            new Slider("slider_one", {
                title: "Slide 1",
                stateCount: 101,
                state: 50,
                onchange: function(internalValue, externalValue, state) {
                    printLine("Slider 1: internal = " + internalValue + " / external = " + externalValue + " / state = " + state);
                }
            });
            new Slider("slider_two", {
                onchange: function(internalValue, externalValue, state) {
                    printLine("Slider 2: internal = " + internalValue + " / external = " + externalValue + " / state = " + state);
                }
            });
        }
    </script>
</head>
<body onload="initialize();">
    <input />
    <button id="spinner_one" style="display: inline;" class="test"></button>
    <button id="spinner_two" style="display: inline;"></button>
    <button id="spinner_three" style="display: inline;"></button>
    <button id="toggler_one" style="display: inline; width: 150px; height: 80px;"></button>
    <button id="toggler_two" style="display: inline; width: 60px; height: 24px;"></button><br/>
    <button id="selector_one" style="display: inline; height: 60px;"></button>
    <button id="selector_two" style="display: inline;"></button>
    <button id="slider_one" style="display: inline;"></button>
    <button id="slider_two" style="display: inline;"></button>
    <input />
    <p id="output"></p>
</body>
</html>
